<ion-header *ngIf="identity">
  <ion-navbar>
    <button ion-button menuToggle>
      <ion-icon name="menu"></ion-icon>
    </button>

    <ion-title>Cartelera</ion-title>

    <ion-buttons end>
      <button ion-button (click)="logOut()">
        <ion-icon name="exit"></ion-icon>
      </button>
    </ion-buttons>
  </ion-navbar>
</ion-header>

<ion-header no-border-top *ngIf="!identity">
  <!-- <ion-navbar>
    <ion-title>CINEMATRIX</ion-title>
  </ion-navbar> -->

  <ion-toolbar>
    <ion-segment [(ngModel)]="log_page">
      <ion-segment-button value="login">
        Entrar
      </ion-segment-button>
      <ion-segment-button value="logup">
        Registrarse
      </ion-segment-button>
    </ion-segment>
  </ion-toolbar>
</ion-header>

<ion-content padding>
  <div *ngIf="identity">
    <ion-grid>
      <ion-row>
        <ion-col col-12 *ngFor="let pelicula of peliculas">

          <ion-card>
            <img src="{{ url }}imagen/pelicula/{{pelicula.image}}">
            <ion-card-content padding>
              <ion-card-header>
                {{ pelicula.titulo }}
              </ion-card-header>

              <p>{{ pelicula.director }}</p>
              <p>{{ pelicula.duracion }}</p>

              <ion-fab bottom right margin>
                <button ion-fab (click)="verDetallePelicula(pelicula)">
                  <ion-icon name="arrow-forward"></ion-icon>
                </button>
              </ion-fab>
            </ion-card-content>
          </ion-card>

        </ion-col>
      </ion-row>
    </ion-grid>
  </div>

  <div *ngIf="!identity">
    <p style="font-size: 3rem; text-align: center;">CINEMATRIX</p>
    <div [ngSwitch]="log_page">
      <!-- Secci칩n de login -->
      <div *ngSwitchCase="'login'">
        <form #loginForm="ngForm" (ngSubmit)="submitLogin()">
          <div class="field">
            <input type="email" placeholder="Correo" #email="ngModel" name="email" [(ngModel)]="user.email">
          </div>
    
          <div class="field">
            <input type="password" placeholder="Contrase침a" #password="ngModel" name="password" [(ngModel)]="user.password">
          </div>
    
          <div padding>
            <button type="submit" ion-button block>Entrar</button>
          </div>
        </form>
      </div>
    
      <!-- Secci칩n de registro -->
      <div *ngSwitchCase="'logup'">
        <form #loginForm="ngForm" (ngSubmit)="submitRegister()">
          <div class="field">
            <input type="nombre" placeholder="Nombre" #nombre="ngModel" name="nombre" [(ngModel)]="user_register.nombre">
          </div>
    
          <div class="field">
            <input type="email" placeholder="Correo" #email="ngModel" name="email" [(ngModel)]="user_register.email">
          </div>
    
          <div class="field">
            <input type="date" placeholder="Fecha de nacimiento" #fecha_nacimiento="ngModel" name="fecha_nacimiento"
              [(ngModel)]="user_register.fecha_nacimiento">
          </div>
    
          <div class="field">
            <input type="password" placeholder="Contrase침a" #password="ngModel" name="password" [(ngModel)]="user_register.password">
          </div>
    
          <div padding>
            <button type="submit" ion-button block>Entrar</button>
          </div>
        </form>
      </div>
    </div>
  </div>
</ion-content>
